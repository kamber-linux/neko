#!/bin/sh

# include files
. common/neko_msg
for file in prepare fetch check extract patch build install
do
	. common/steps/neko_do_${file}
done

case "${1}" in
	"pkg")
		for step in prepare fetch check extract patch build
		do
			do_${step} "${2}"
		done
		;;
	"em" | "emerge")
		for step in prepare fetch check extract patch build install
		do
			do_${step} "${2}"
		done
		;;
	"clean")
		neko_msg normal "Cleaning master directory..."
		rm -rf master/* &&
			neko_msg success "Successfully cleaned master directory!" ||
			{ neko_msg error "Failed to clean master directory!" && exit 1; }
		;;
	"uninstall")
		. common/steps/neko_do_uninstall
		do_uninstall "${2}"
		;;
	*)
		neko_msg error "Unknown option \"${1}\"" && exit 1
		;;
esac
